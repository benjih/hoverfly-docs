<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Reference - Hoverfly</title>
    <meta name="generator" content="Hugo 0.17" />

    
    <meta name="description" content="Open Source API Simulation">
    
    <link rel="canonical" href="http://hoverfly.io/reference/">
    
    <meta name="author" content="SpectoLabs">
    

    <meta property="og:url" content="http://hoverfly.io/reference/">
    <meta property="og:title" content="Hoverfly">
    <meta property="og:image" content="http://hoverfly.io/img/logo.png">
    <meta name="apple-mobile-web-app-title" content="Hoverfly">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://hoverfly.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://hoverfly.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://hoverfly.io/fonts/icon.eot?52m981');
        src: url('http://hoverfly.io/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('http://hoverfly.io/fonts/icon.woff?52m981')
               format('woff'),
             url('http://hoverfly.io/fonts/icon.ttf?52m981')
               format('truetype'),
             url('http://hoverfly.io/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://hoverfly.io/stylesheets/application.css">
    <link rel="stylesheet" href="http://hoverfly.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://hoverfly.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://hoverfly.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato:400,700|Consolas">
    <style>
      body, input {
        font-family: 'Lato', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Consolas', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://hoverfly.io/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-black palette-accent-orange">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Reference
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/spectolabs" title="@spectolabs on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/SpectoLabs" title="@SpectoLabs on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/SpectoLabs/hoverfly" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://hoverfly.io/img/logo.png">
        </div>
      
      <div class="name">
        <strong>Hoverfly <span class="version">0.9.0</span></strong>
        
          <br>
          SpectoLabs/hoverfly
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/SpectoLabs/hoverfly/releases/latest" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/SpectoLabs/hoverfly/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Home" href="http://hoverfly.io/">
	
	Home
</a>



  
</li>



<li>
  
    



<a  title="Introduction" href="http://hoverfly.io/introduction/">
	
	Introduction
</a>



  
</li>



<li>
  
    



<a  title="Usage" href="http://hoverfly.io/usage/">
	
	Usage
</a>



  
</li>



<li>
  
    



<a class="current" title="Reference" href="http://hoverfly.io/reference/">
	
	Reference
</a>


<ul id="scrollspy">
</ul>


  
</li>


        </ul>
        

        
        <hr>

        <ul>
          
          <li>
            <a href="https://twitter.com/spectolabs" target="_blank" title="@spectolabs on Twitter">
              @spectolabs on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/SpectoLabs" target="_blank" title="@SpectoLabs on GitHub">
              SpectoLabs on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:contact@specto.io" title="Email of contact@specto.io">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Reference </h1>

			

<h2 id="api">API</h2>

<h3 id="get-api-v2-simulation">GET /api/v2/simulation</h3>

<p>Gets all simulation data from the running instance of Hoverfly. This includes recordings, templates, delays and metadata.</p>

<h4 id="example-response-body">Example response body</h4>

<pre><code>{
  &quot;data&quot;: {
    &quot;pairs&quot;: [
      {
        &quot;response&quot;: {
          &quot;status&quot;: 200,
          &quot;body&quot;: &quot;&lt;h1&gt;Matched on recording&lt;/h1&gt;&quot;,
          &quot;encodedBody&quot;: false,
          &quot;headers&quot;: {
            &quot;Content-Type&quot;: [
              &quot;text/html; charset=utf-8&quot;
            ]
          }
        },
        &quot;request&quot;: {
          &quot;requestType&quot;: &quot;recording&quot;,
          &quot;path&quot;: &quot;/&quot;,
          &quot;method&quot;: &quot;GET&quot;,
          &quot;destination&quot;: &quot;myhost.io&quot;,
          &quot;scheme&quot;: &quot;https&quot;,
          &quot;query&quot;: &quot;&quot;,
          &quot;body&quot;: &quot;&quot;,
          &quot;headers&quot;: {
            &quot;Accept&quot;: [
              &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;
            ],
            &quot;Content-Type&quot;: [
              &quot;text/plain; charset=utf-8&quot;
            ],
            &quot;User-Agent&quot;: [
              &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
            ]
          }
        }
      },
      {
        &quot;response&quot;: {
          &quot;status&quot;: 200,
          &quot;body&quot;: &quot;&lt;h1&gt;Matched on template&lt;/h1&gt;&quot;,
          &quot;encodedBody&quot;: false,
          &quot;headers&quot;: {
            &quot;Content-Type&quot;: [
              &quot;text/html; charset=utf-8&quot;
            ]
          }
        },
        &quot;request&quot;: {
          &quot;requestType&quot;: &quot;template&quot;,
          &quot;path&quot;: &quot;/template&quot;,
          &quot;method&quot;: null,
          &quot;destination&quot;: null,
          &quot;scheme&quot;: null,
          &quot;query&quot;: null,
          &quot;body&quot;: null,
          &quot;headers&quot;: null
        }
      }
    ],
    &quot;globalActions&quot;: {
      &quot;delays&quot;: []
    }
  },
  &quot;meta&quot;: {
    &quot;schemaVersion&quot;: &quot;v1&quot;,
    &quot;hoverflyVersion&quot;: &quot;v0.9.0&quot;,
    &quot;timeExported&quot;: &quot;2016-11-11T11:53:52Z&quot;
  }
</code></pre>

<hr />

<h3 id="put-api-v2-simulation">PUT /api/v2/simulation</h3>

<p>Puts simulation into the running instance of Hoverfly, overwriting any existing simulation data.</p>

<h4 id="example-request-body">Example request body</h4>

<pre><code>{
  &quot;data&quot;: {
    &quot;pairs&quot;: [
      {
        &quot;response&quot;: {
          &quot;status&quot;: 200,
          &quot;body&quot;: &quot;&lt;h1&gt;Matched on recording&lt;/h1&gt;&quot;,
          &quot;encodedBody&quot;: false,
          &quot;headers&quot;: {
            &quot;Content-Type&quot;: [
              &quot;text/html; charset=utf-8&quot;
            ]
          }
        },
        &quot;request&quot;: {
          &quot;requestType&quot;: &quot;recording&quot;,
          &quot;path&quot;: &quot;/&quot;,
          &quot;method&quot;: &quot;GET&quot;,
          &quot;destination&quot;: &quot;myhost.io&quot;,
          &quot;scheme&quot;: &quot;https&quot;,
          &quot;query&quot;: &quot;&quot;,
          &quot;body&quot;: &quot;&quot;,
          &quot;headers&quot;: {
            &quot;Accept&quot;: [
              &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;
            ],
            &quot;Content-Type&quot;: [
              &quot;text/plain; charset=utf-8&quot;
            ],
            &quot;User-Agent&quot;: [
              &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&quot;
            ]
          }
        }
      },
      {
        &quot;response&quot;: {
          &quot;status&quot;: 200,
          &quot;body&quot;: &quot;&lt;h1&gt;Matched on template&lt;/h1&gt;&quot;,
          &quot;encodedBody&quot;: false,
          &quot;headers&quot;: {
            &quot;Content-Type&quot;: [
              &quot;text/html; charset=utf-8&quot;
            ]
          }
        },
        &quot;request&quot;: {
          &quot;requestType&quot;: &quot;template&quot;,
          &quot;path&quot;: &quot;/template&quot;,
          &quot;method&quot;: null,
          &quot;destination&quot;: null,
          &quot;scheme&quot;: null,
          &quot;query&quot;: null,
          &quot;body&quot;: null,
          &quot;headers&quot;: null
        }
      }
    ],
    &quot;globalActions&quot;: {
      &quot;delays&quot;: []
    }
  },
  &quot;meta&quot;: {
    &quot;schemaVersion&quot;: &quot;v1&quot;,
    &quot;hoverflyVersion&quot;: &quot;v0.9.0&quot;,
    &quot;timeExported&quot;: &quot;2016-11-11T11:53:52Z&quot;
  }
</code></pre>

<hr />

<h3 id="get-api-v2-hoverfly">GET /api/v2/hoverfly</h3>

<p>Gets configuration information from the running instance of Hoverfly.</p>

<h4 id="example-response-body-1">Example response body</h4>

<pre><code>{
    destination: &quot;.&quot;,
    middleware: &quot;&quot;,
    mode: &quot;simulate&quot;,
    usage: {
        counters: {
            capture: 0,
            modify: 0,
            simulate: 0,
            synthesize: 0
        }
    }
}
</code></pre>

<hr />

<h3 id="get-api-v2-hoverfly-destination">GET /api/v2/hoverfly/destination</h3>

<p>Gets the current destination setting for the running instance of Hoverfly.</p>

<h4 id="example-response-body-2">Example response body</h4>

<pre><code>{
    destination: &quot;.&quot;
}
</code></pre>

<hr />

<h3 id="put-api-v2-hoverfly-destination">PUT /api/v2/hoverfly/destination</h3>

<p>Sets a new destination for the running instance of Hoverfly, overwriting the existing destination setting.</p>

<h4 id="example-request-body-1">Example request body</h4>

<pre><code>{
    destination: &quot;new-destination&quot;
}
</code></pre>

<hr />

<h3 id="get-api-v2-hoverfly-middleware">GET /api/v2/hoverfly/middleware</h3>

<p>Gets the middleware value for the running instance of Hoverfly. This will be either an executable command, or an executable command with a path to a middleware script.</p>

<h4 id="example-response-body-3">Example response body</h4>

<pre><code>{
	&quot;middleware&quot;: &quot;python ~/middleware.py&quot;
}
</code></pre>

<hr />

<h3 id="put-api-v2-hoverfly-middleware">PUT /api/v2/hoverfly/middleware</h3>

<p>Sets a new middleware value, overwriting the existing middleware value for the running instance of Hoverfly. The middleware value should be an executable command, or an executable command with a path to a middleware script. The command and the file must be available on the Hoverfly host machine.</p>

<h4 id="example-request-body-2">Example request body</h4>

<pre><code>{
	&quot;middleware&quot;: &quot;python ~/new-middleware.py&quot;
}
</code></pre>

<hr />

<h3 id="get-api-v2-hoverfly-mode">GET /api/v2/hoverfly/mode</h3>

<p>Gets the mode for the running instance of Hoverfly.</p>

<h4 id="example-response-body-4">Example response body</h4>

<pre><code>{
    mode: &quot;simulate&quot;
}
</code></pre>

<hr />

<h3 id="put-api-v2-hoverfly-mode">PUT /api/v2/hoverfly/mode</h3>

<p>Changes the mode of the running instance of Hoverfly.</p>

<h4 id="example-request-body-3">Example request body</h4>

<pre><code>{
    mode: &quot;simulate&quot;
}
</code></pre>

<hr />

<h3 id="get-api-v2-hoverfly-usage">GET /api/v2/hoverfly/usage</h3>

<p>Gets metrics information for the running instance of Hoverfly.</p>

<h4 id="example-response-body-5">Example response body</h4>

<pre><code>{
	&quot;metrics&quot;: {
		&quot;counters&quot;: {
			&quot;capture&quot;: 0,
			&quot;modify&quot;: 0,
			&quot;simulate&quot;: 0,
			&quot;synthesize&quot;: 0
		}
	}
}
</code></pre>

<hr />

<h2 id="flags-and-environment-variables">Flags and environment variables</h2>

<p>Hoverfly can be configured using flags on startup, or using environment variables.</p>

<h3 id="authentication">Authentication</h3>

<h4 id="enable-disable-authentication">Enable/disable authentication</h4>

<p>Flag:</p>

<pre><code>-auth &lt;string&gt;
</code></pre>

<p>Environment variable:</p>

<pre><code>export HoverflyAuthEnabled=&lt;string&gt;
</code></pre>

<p>Supply <code>true</code> to enable authentication. Defaults to <code>false</code>.</p>

<h4 id="add-a-new-user">Add a new user</h4>

<p>Flags:</p>

<pre><code>-add -username &lt;string&gt; -password &lt;string&gt; -admin &lt;string&gt;
</code></pre>

<p>Supply &lsquo;-admin false&rsquo; to make this a non-admin user (defaults to &lsquo;true&rsquo;).</p>

<p>For example:</p>

<pre><code>./hoverfly -add -username username -password password -admin false   	
</code></pre>

<p>This creates a new non-admin user with the username &lsquo;username&rsquo; and the password &lsquo;password&rsquo;.</p>

<p>Environment variables:</p>

<pre><code>export HoverflyAdmin=&quot;username&quot;
export HoverflyAdminPass=&quot;password&quot;
</code></pre>

<p>Setting these environment variables will create a new admin user when Hoverfly starts.</p>

<h4 id="set-hoverfly-secret">Set Hoverfly secret</h4>

<p>By default, a random secret is generated every time Hoverfly starts.</p>

<p>Environment variable:</p>

<pre><code>export HoverflySecret=&lt;string&gt;
</code></pre>

<h4 id="set-api-token-expiration-in-seconds">Set API token expiration (in seconds)</h4>

<p>Set to one day by default.</p>

<p>Environment variable:</p>

<pre><code>export HoverflyTokenExpiration=&lt;string&gt;

</code></pre>

<h3 id="port-selection">Port selection</h3>

<h4 id="set-the-admin-ui-api-port">Set the Admin UI/API port</h4>

<p>Defaults to 8888.</p>

<p>Flag:</p>

<pre><code>-ap &lt;string&gt;
</code></pre>

<p>Environment variable:</p>

<pre><code>export AdminPort=&lt;string&gt;
</code></pre>

<h4 id="set-the-proxy-port">Set the proxy port</h4>

<p>Defaults to 8500.</p>

<p>Flag:</p>

<pre><code>-pp &lt;string&gt;
</code></pre>

<p>Environment variable:</p>

<pre><code>export ProxyPort=&lt;string&gt;
</code></pre>

<h3 id="mode-selection-import-middleware">Mode selection, import &amp; middleware</h3>

<p>By default, Hoverfly starts in <em>simulate mode</em>.</p>

<h4 id="set-capture-mode">Set capture mode</h4>

<p>Flag:</p>

<pre><code>-capture
</code></pre>

<h4 id="set-synthesize-mode">Set synthesize mode</h4>

<p>Requires middleware to be specified.</p>

<p>Flag:</p>

<pre><code>-synthesize
</code></pre>

<h4 id="set-modify-mode">Set modify mode</h4>

<p>Requires middleware to be specified.</p>

<p>Flag:</p>

<pre><code>-modify
</code></pre>

<h4 id="specify-middleware">Specify middleware</h4>

<p>Flag:</p>

<pre><code>-middleware &lt;string&gt;
</code></pre>

<p>Supply the path to the middleware script.</p>

<p>For example:</p>

<pre><code>./hoverfly -synthesize -middleware &quot;scripts/gen_response.py&quot;
</code></pre>

<h4 id="import-service-data">Import service data</h4>

<p>Flag:</p>

<pre><code>-import &lt;string&gt;
</code></pre>

<p>Import a service data JSON file from file system or URL. For example:</p>

<pre><code>./hoverfly -import http://mypage.com/service_x.json
</code></pre>

<pre><code>./hoverfly -import path/to/my/service_x.json      
</code></pre>

<p>Environment variable:</p>

<pre><code>export HoverflyImport=&lt;string&gt;
</code></pre>

<p>For example:</p>

<pre><code>export HoverflyImport=&quot;http://mypage.com/service_x.json&quot;
</code></pre>

<h3 id="webserver">Webserver</h3>

<h4 id="turn-hoverfly-into-a-simulation-webserver">Turn Hoverfly into a simulation webserver</h4>

<p>Flag:</p>

<pre><code>-webserver
</code></pre>

<h3 id="destination">Destination</h3>

<h4 id="specify-which-hosts-to-process">Specify which hosts to process</h4>

<p>Flag:</p>

<pre><code>-dest &lt;string&gt;
</code></pre>

<p>For example:</p>

<pre><code>./hoverfly -dest fooservice.org -dest barservice.org -dest catservice.org
</code></pre>

<p>This will start Hoverfly in <em>simulate mode</em>, and only simulate requests that are sent to fooservice.org, barservice.org and catservice.org. Requests to all other hosts will pass through.</p>

<h4 id="specify-host-uri">Specify host URI</h4>

<p>Use regular expression. Defaults to &ldquo;.&rdquo;</p>

<p>Flag:</p>

<pre><code>-destination &lt;string&gt;
</code></pre>

<h3 id="persistence">Persistence</h3>

<h4 id="specify-boltdb-or-in-memory">Specify BoltDB or in-memory</h4>

<p>Flag:</p>

<pre><code>-db &lt;string&gt;
</code></pre>

<p>By default, Hoverfly uses BoltDB to store data in a file on disk. Use <code>-db memory</code> to disable this and use in-memory persistence only.</p>

<h4 id="set-boltdb-file">Set BoltDB file</h4>

<p>By default, a <code>requests.db</code> file is created in the Hoverfly directory.</p>

<p>Flag:</p>

<pre><code>-db-path &lt;string&gt;
</code></pre>

<p>Environment variable:</p>

<pre><code>export HoverflyDB=&lt;string&gt;
</code></pre>

<p>The file will be created if it doesn&rsquo;t exist.</p>

<h3 id="tls-certificate-management">TLS &amp; Certificate management</h3>

<h4 id="generate-certificate">Generate certificate</h4>

<p>Hoverfly will generate private and public keys in the current directory.</p>

<p>Flags:</p>

<pre><code>-generate-ca-cert -cert-name &lt;string&gt; -cert-org &lt;string&gt;
</code></pre>

<p>Certificate name defaults to &ldquo;hoverfly.proxy&rdquo;. Organization name defaults to &ldquo;Hoverfly Authority&rdquo;.</p>

<h4 id="use-certificate-and-key">Use certificate and key</h4>

<p>Supply paths to certificate and key file.</p>

<p>Flags:</p>

<pre><code>-cert &lt;string&gt; -key &lt;string&gt;
</code></pre>

<h4 id="turn-off-tls-verification">Turn off TLS verification</h4>

<p>Defaults to &ldquo;true&rdquo;.</p>

<p>Flag:</p>

<pre><code>-tls-verification=&lt;string&gt;
</code></pre>

<p>Environment variable:</p>

<pre><code>export HoverflyTlsVerification=&lt;string&gt;
</code></pre>

<h3 id="logging-metrics">Logging &amp; metrics</h3>

<h4 id="enable-verbose-mode">Enable verbose mode</h4>

<p>Logs every proxy request to STDOUT.</p>

<p>Flag:</p>

<pre><code>-v
</code></pre>

<h4 id="enable-metrics-logging">Enable metrics logging</h4>

<p>Logs metrics to STDOUT.</p>

<p>Flag:</p>

<pre><code>-metrics
</code></pre>

<h3 id="misc">Misc</h3>

<h4 id="use-uncompiled-static-files">Use uncompiled static files</h4>

<p>Serve Admin UI static files directly from ./static/dist instead from statik binary.</p>

<p>Flag:</p>

<pre><code>-dev
</code></pre>

<h4 id="get-version">Get version</h4>

<p>Get the version of Hoverfly</p>

<p>Flag:</p>

<pre><code>-version   
</code></pre>

<hr />

<h2 id="hoverctl">Hoverctl</h2>

<p>Hoverctl is a command line tool bundled with Hoverfly. The purpose of hoverctl is to help in the managing of one or many instances of Hoverfly. Hoverctl does not support all the functionality of Hoverfly yet, but its feature set is growing.</p>

<h3 id="hoverfly-directory">.hoverfly directory</h3>

<p>Hoverctl stores its state in a <code>.hoverfly</code> directory. Hoverctl will create this directory in your home folder the first time it needs to save state. This directory is used for the configuration for Hoverfly, the process identifiers and the log files. Hoverctl will always check the working directory before your home directory when looking for the <code>.hoverfly</code> directory. This allows for multiple configurations on a per project basis if you require different configurations for Hoverfly.</p>

<pre><code>.hoverfly/config.yaml
.hoverfly/hoverfly.8888.8500.pid
.hoverfly/hoverfly.8888.8500.log
</code></pre>

<h4 id="configuration">Configuration</h4>

<p>Currently, there are six configuration keys needed to use hoverctl.</p>

<p><code>hoverfly.host</code> is used to determine the host address of the Hoverfly you are trying to control.</p>

<p><code>hoverfly.admin.port</code> is used to determine the port that you would like to access the admin interface from.</p>

<p><code>hoverfly.proxy.port</code> is used to determine the port that you would the proxy to run on.</p>

<p><code>hoverfly.username</code> is the username you use to access your authenticated Hoverfly.</p>

<p><code>hoverfly.password</code> is the password you use to access your authenticated Hoverfly.</p>

<h3 id="pid-and-log-files">Pid and log files</h3>

<p>For each Hoverfly process created with hoverctl, one file is created to store the process identifier and another for the STDOUT and STDERR of Hoverfly. These files will be named using the hoverfly process with both the admin and proxy ports.</p>

<h4 id="hoverctl-commands">Hoverctl commands</h4>

<h4 id="start">start</h4>

<p>Hoverctl will let you start a Hoverfly process. For this to work, you need to have the Hoverfly binary on your $PATH. It will start up Hoverfly on the admin and proxy ports as specified in the <code>config.yaml</code>. There is no limit to the number of Hoverfly processes you can start. The only requirement is that each Hoverfly process has its own unique admin and proxy ports.</p>

<pre><code>hoverctl start
</code></pre>

<p>By default, hoverctl will start Hoverfly as a proxy. If you wish to start Hoverfly as a webserver instead:</p>

<pre><code>hoverctl start webserver
</code></pre>

<h4 id="stop">stop</h4>

<p>You can also stop Hoverfly processes using Hoverctl.</p>

<pre><code>hoverctl stop
</code></pre>

<h4 id="mode">mode</h4>

<p>Using hoverctl, you can find out which mode Hoverfly is running in.</p>

<pre><code>hoverctl mode
</code></pre>

<p>You can also change the mode by specifying the name of mode you want Hoverfly to be in.</p>

<pre><code>hoverctl mode capture
</code></pre>

<h4 id="delete">delete</h4>

<p>Hoverfly stores internal state while its running. This state is used for testing your application. Using the delete command, you can specify what you want to delete from Hoverfly.</p>

<pre><code>hoverctl delete simulations
hoverctl delete delays
hoverctl delete all
</code></pre>

<h4 id="export">export</h4>

<p>Instead of having to save the response from the records API endpoint, you can use the export function to save your simulation to disk.</p>

<pre><code>hoverctl export simulation.json
</code></pre>

<h4 id="import">import</h4>

<p>Once you have simulations saved, you can import them into Hoverfly using the import function.</p>

<pre><code>hoverctl import simulations.json
</code></pre>

<p>If your simulation file is hosted over HTTP, you can use hoverctl to import it.</p>

<pre><code>hoverctl import http://example.org/simulation.json
</code></pre>

<p>If you have older, v1 simulations, you may still import them using the <code>v1</code> flag.</p>

<pre><code>hoverctl import --v1 old-simulations.json
</code></pre>

<h4 id="delays">delays</h4>

<p>If you want to apply delays to individual hosts in a simulation (to simulate netwrok latency, for example), you can use the <code>delays</code> function to supply a JSON file containing the delay configuration or to view delays which have been applied (See <strong>Simulating service latency</strong> in the <strong>Usage</strong> section).</p>

<p>Set delays by supplying JSON file:</p>

<pre><code>hoverctl delays path/to/my_delays.json
</code></pre>

<p>Show delays that have been set:</p>

<pre><code>hoverctl delays
</code></pre>

<h4 id="templates">templates</h4>

<p>As well importing request/response data using import, you can also import request templates for partial matching to a response using the <code>templates</code> function. This function works with a JSON file containing the JSON schema for request templates and responses. (See <strong>Matching requests</strong> in the <strong>Usage</strong> section).</p>

<p>Set templates by supplying JSON file:</p>

<pre><code>hoverctl templates path/to/my_request_templates.json
</code></pre>

<p>Show templates that have been set:</p>

<pre><code>hoverctl templates
</code></pre>

<h4 id="middleware">middleware</h4>

<p>This function is used for getting and setting the middleware being executed by Hoverfly.</p>

<p>To get the middleware currently being used by Hoverfly</p>

<pre><code>hoverctl middleware
</code></pre>

<p>To set the middleware Hoverfly to use</p>

<pre><code>hoverctl middleware &quot;middleware.sh&quot;
</code></pre>

<p>The value given to the middleware function should be a string that contains either a file path, a command a file path or a URL.</p>

<h4 id="logs">logs</h4>

<p>Used to get the logs from the instance of Hoverfly started with the hoverctl. This command will return all the logs from when the process was started</p>

<pre><code>hoverctl logs
</code></pre>

<p>If you are trying to debug what is happening and you need to watch the Hoverfly logs, you can use the <code>--follow</code> flag to tail the logs and watch them in real time.</p>

<pre><code>hoverctl logs --follow
</code></pre>

<h3 id="hoverctl-flags">Hoverctl flags</h3>

<h4 id="host">&ndash;host</h4>

<p>This is a global flag that can be used to override the hoverfly.host configuration value from the config.yaml file.</p>

<h4 id="admin-port">&ndash;admin-port</h4>

<p>This is a global flag that can be used to override the hoverfly.admin.port configuration value from the config.yaml file.</p>

<h4 id="proxy-port">&ndash;proxy-port</h4>

<p>This is a global flag that can be used to override the hoverfly.proxy.port configuration value from the config.yaml file.</p>

<h4 id="verbose">&ndash;verbose</h4>

<p>This is a global flag that can be used to get the verbose logs from hoverctl.</p>

<h4 id="version">&ndash;version</h4>

<p>This is a global flag that can be used to get the version of hoverctl.</p>


			<aside class="copyright" role="note">
				
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://hoverfly.io/usage/" title="Usage">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Usage
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'http:\/\/hoverfly.io\/';
      var repo_id  = 'SpectoLabs\/hoverfly';
    
    </script>

    <script src="http://hoverfly.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;
            
            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }
        

        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
